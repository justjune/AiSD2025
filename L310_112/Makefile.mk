# Компилятор C++
CXX = g++

# Флаги компилятора: -Wall (показывать все предупреждения), -std=c++11 (стандарт языка)
CXXFLAGS = -Wall -std=c++11

# Имя итогового исполняемого файла
EXECUTABLE = L310_112test

# Исходные файлы. Укажите здесь все ваши .cpp файлы
SOURCES = L310_112.cpp L310_112test.cpp

# Автоматически получаем имена объектных файлов (.o) из исходных (.cpp)
OBJECTS = $(SOURCES:.cpp=.o)

# Цель по умолчанию: собрать исполняемый файл
all: $(EXECUTABLE)

# Правило для сборки исполняемого файла из объектных файлов
# Эта строка теперь правильно включает ОБА объектных файла
$(EXECUTABLE): $(OBJECTS)
	$(CXX) $(CXXFLAGS) -o $(EXECUTABLE) $(OBJECTS)

# Шаблонное правило для компиляции любого .cpp файла в .o
# Оно будет применено для каждого файла из переменной SOURCES
%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@

# Цель для очистки: удаляет скомпилированные файлы
clean:
	rm -f $(OBJECTS) $(EXECUTABLE)